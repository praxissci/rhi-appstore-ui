<!--
@license
Copyright (c) 2017 Rick Hansen Institute. All rights reserved.
This code may only be used under the modified Apache license found at https://raw.githubusercontent.com/rick-hansen-institute/rhi-appstore-ui/LICENSE
Author: RHI Tech <tech@rickhanseninstitute.org>
-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Demo :: rhi-appstore-ui-shell :: Rick Hansen Institute</title>
    <link rel="import" href="../../../../bower_components/iron-demo-helpers/demo-snippet.html" />
    <link rel="import" href="../../../../bower_components/marked-element/marked-element.html" />
    <link rel="import" href="../rhi-appstore-ui-shell.html" />
    <style>
        body {
            font-family: 'Roboto', 'Noto', sans-serif;
            -webkit-font-smoothing: antialiased;
            margin: 0;
            padding: 16px;
        }

        rhi-appstore-ui-shell {
            --rhi-appstore-ui-shell-branding: url('resources/branding.png');
            --rhi-appstore-ui-shell-primary: #CC3333;
        }
    </style>
</head>
<body onload="_bodyOnLoad()">
    <div class="main-content">
        <h3>&lt;rhi-appstore-ui-shell&gt;</h3>
        <demo-snippet>
            <template>
                <rhi-appstore-ui-shell id="appstore"
                                       latest-action="http://www.google.com/"
                                       latest-label="Tap Here to Install the lates alpha release of ABC of Autonomic Dysreflexia"></rhi-appstore-ui-shell>
            </template>
        </demo-snippet>
    </div>
    <script>
        'use strict';
        
        function _bodyOnLoad(e) {
            var appstore = document.getElementById('appstore');
            
            // Safari needs a polyfil to use web components and requires listening to WebComponentsReady
            if (appstore.setReleases) {
                initialize(appstore);
            } else {
                window.addEventListener('WebComponentsReady', function() {
                    initialize(appstore);
                });
            }
        }

        function initialize(appstore) {
            appstore.setReleases([
                {
                    action:'itms-services://?action=download-manifest&url=https://cliniquick.azurewebsites.net/dist-rhi-ad/v0.0.2/manifest.plist',
                    label: 'Alpha v0.0.2 (Latest)',
                    releaseDate: '2017-09-08'
                }
            ]);
        }
    </script>
</body>
</html>